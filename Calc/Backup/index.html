<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Máy tính</title>
  <link rel="stylesheet" href="style.css">
  <link rel="icon" type="image/png" href="../ygg.png">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
</head>
<body>
  <header class="header">
    <div class="header-actions">
      <button id="backToHomeBtn"><i class="fas fa-home"></i> Back to Homepage</button>
    </div>
  </header>
  <main class="container">
    <!-- Accordion Wrapper -->
    <div class="calculator-accordion">
      <!-- Mục 1: Tính toán chỉ số sau buff và debuff -->
      <div class="calculator-section">
        <h2 class="section-title" onclick="toggleSection('calcSection')">Tính toán chỉ số sau buff và debuff <i class="fas fa-chevron-down"></i></h2>
        <div id="calcSection" class="content-section">
          <div class="calculator">
            <div class="form-group">
              <label for="baseValue">Nhập giá trị ban đầu:</label>
              <input type="number" id="baseValue" placeholder="Nhập giá trị ban đầu" min="0">
            </div>
            <div class="form-group">
              <label for="buffDebuffCount">Số lượng Buff/Debuff (mặc định 0):</label>
              <input type="number" id="buffDebuffCount" placeholder="0" min="0" value="0">
              <small class="help">Nhập 1 cho 1 buff/debuff, 2 cho 1 buff + 1 debuff, v.v.</small>
            </div>
            <div id="buffDebuffInputs" class="buff-debuff-inputs" style="display: none;">
              <small class="help">Trong hầu hết trường hợp, giá trị dương là buff, giá trị âm là debuff.</small>
              <div id="buffDebuffFields"></div>
            </div>
            <div id="result" class="result" style="display: none;">
              <h3 class="section-title">Kết quả tính toán</h3>
              <p id="calculationSteps"></p>
              <p><strong>Giá trị cuối cùng: <span id="finalValue"></span></strong></p>
              <p id="warning" class="warning" style="display: none;">Nhưng nếu bạn đang tính toán chỉ số cơ bản, sát thương thì giá trị sẽ là 0</p>
            </div>
            <div class="form-actions">
              <button id="clearBtn" class="btn clear">Xóa</button>
            </div>
          </div>
        </div>
      </div>

      <!-- Mục 2: Tính toán sát thương nhận vào -->
      <div class="calculator-section">
        <h2 class="section-title" onclick="toggleSection('damageSection')">Tính toán sát thương nhận vào <i class="fas fa-chevron-down"></i></h2>
        <div id="damageSection" class="content-section">
          <div id="damageCalculator"></div>
          <button id="addAttackBtn">Thêm đòn tấn công</button>
        </div>
      </div>
    </div>
  </main>
  <footer>
    <p>&copy; 2025 - Máy tính</p>
  </footer>
  <script src="scripts.js"></script>
  <script src="Damage.js"></script>
  <script>
    function toggleSection(sectionId) {
      const section = document.getElementById(sectionId);
      const isVisible = section.style.display === "block";
      section.style.display = isVisible ? "none" : "block";
      // Cập nhật icon
      const title = document.querySelector(`[onclick="toggleSection('${sectionId}')"]`);
      const icon = title.querySelector("i");
      icon.className = isVisible ? "fas fa-chevron-down" : "fas fa-chevron-up";
    }
  </script>
</body>
</html>